<div class="p-4">
  <div class="grid justify-between gap-1 grid-flow-col mb-4">
    <h1 class="text-2xl self-end">Slate Setup</h1>

    <div class="grid gap-2 grid-flow-col">
      <dk-shared-file-upload-button
        [allowMultipleFiles]="true"
        [buttonStyle]="'primary'"
        [buttonText]="'Upload Projections'"
        (handleFileSelection)="handleProjectionsCsvBatch($event)"
        [isButtonDisabled]="isLoading() || isSaving()"
      ></dk-shared-file-upload-button>
      <dfs-select-slate></dfs-select-slate>
    </div>
  </div>

  <p class="mb-4 note">
    <mat-icon>star</mat-icon>

    <span>
      Before you can generate lineups for your contests, you'll need to upload
      some CSV files provided by DraftKings. The DKSalaries.csv file lets the
      system know which players are available and how much they cost. The
      DKEntries.csv file allows the system to take your lineups and generate a
      new CSV file for you to upload to DraftKings. Click
      <a class="link" (click)="help()" (keydown.enter)="help()" tabindex="0">
        here
      </a>
      for help.
    </span>
  </p>

  <div class="grid gap-4 grid-cols-3">
    <!-- MAIN -->
    <div class="slate-card">
      <h3 class="text-lg mb-2 slate-title">Main Slate</h3>

      <p class="mb-4">
        If you entered contests in the
        <span class="italic">main slate</span>, you can upload your CSV files
        below.
      </p>

      @if (isLoading() ) {
      <p>Loading upload statuses...</p>
      } @else {

      <ul class="list-disc mb-4 ml-4">
        <li class="py-1">
          DKSalaries:

          <span
            [class.text-green-500]="salaries()[slateEnum.MAIN]"
            [class.text-red-500]="!salaries()[slateEnum.MAIN]"
          >
            {{ salaries()[slateEnum.MAIN] ? 'Uploaded' : 'Not Uploaded' }}
          </span>
        </li>
        <li class="py-1">
          DKEntries:
          <span
            [class.text-green-500]="entries()[slateEnum.MAIN]"
            [class.text-red-500]="!entries()[slateEnum.MAIN]"
          >
            {{ entries()[slateEnum.MAIN] ? 'Uploaded' : 'Not Uploaded' }}
          </span>
        </li>
      </ul>
      }

      <div class="grid gap-2 grid-flow-col justify-center">
        <!-- Salary CSV upload for Main Slate -->
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKSalaries'"
          [isButtonDisabled]="isLoading() || isSaving()"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.MAIN, 'salaries')
          "
        ></dk-shared-file-upload-button>

        <!-- Entries CSV upload for Main Slate -->
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKEntries'"
          [isButtonDisabled]="isLoading() || isSaving()"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.MAIN, 'entries')
          "
        ></dk-shared-file-upload-button>
      </div>

      <div class="grid gap-2 grid-flow-col justify-center"></div>
    </div>

    <!-- EARLY ONLY -->
    <div class="slate-card">
      <h3 class="text-lg mb-2 slate-title">Early Only</h3>
      <p class="mb-4">
        If you entered contests in the
        <span class="italic">early only</span> slate, you can upload your CSV
        files below.
      </p>

      @if (isLoading() ) {
      <p>Loading upload statuses...</p>
      } @else {

      <ul class="list-disc mb-4 ml-4">
        <li class="py-1">
          DKSalaries:

          <span
            [class.text-green-500]="salaries()[slateEnum.EARLY_ONLY]"
            [class.text-red-500]="!salaries()[slateEnum.EARLY_ONLY]"
          >
            {{ salaries()[slateEnum.EARLY_ONLY] ? 'Uploaded' : 'Not Uploaded' }}
          </span>
        </li>
        <li class="py-1">
          DKEntries:
          <span
            [class.text-green-500]="entries()[slateEnum.EARLY_ONLY]"
            [class.text-red-500]="!entries()[slateEnum.EARLY_ONLY]"
          >
            {{ entries()[slateEnum.EARLY_ONLY] ? 'Uploaded' : 'Not Uploaded' }}
          </span>
        </li>
      </ul>
      }

      <div class="grid gap-2 grid-flow-col justify-center">
        <!-- Salary CSV upload for Early Only Slate -->
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKSalaries'"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.EARLY_ONLY, 'salaries')
          "
          [isButtonDisabled]="isLoading() || isSaving()"
        ></dk-shared-file-upload-button>

        <!-- Entries CSV upload for Early Only Slate -->
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKEntries'"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.EARLY_ONLY, 'entries')
          "
          [isButtonDisabled]="isLoading() || isSaving()"
        ></dk-shared-file-upload-button>
      </div>
    </div>

    <!-- AFTERNOON ONLY -->
    <div class="slate-card">
      <h3 class="text-lg mb-2 slate-title">Afternoon Only</h3>
      <p class="mb-4">
        If you entered contests in the
        <span class="italic">afternoon only</span> slate, you can upload your
        CSV files below.
      </p>

      @if (isLoading() ) {
      <p>Loading upload statuses...</p>
      } @else {

      <ul class="list-disc mb-4 ml-4">
        <li class="py-1">
          DKSalaries:

          <span
            [class.text-green-500]="salaries()[slateEnum.AFTERNOON_ONLY]"
            [class.text-red-500]="!salaries()[slateEnum.AFTERNOON_ONLY]"
          >
            {{
              salaries()[slateEnum.AFTERNOON_ONLY] ? 'Uploaded' : 'Not Uploaded'
            }}
          </span>
        </li>
        <li class="py-1">
          DKEntries:
          <span
            [class.text-green-500]="entries()[slateEnum.AFTERNOON_ONLY]"
            [class.text-red-500]="!entries()[slateEnum.AFTERNOON_ONLY]"
          >
            {{
              entries()[slateEnum.AFTERNOON_ONLY] ? 'Uploaded' : 'Not Uploaded'
            }}
          </span>
        </li>
      </ul>
      }

      <div class="grid gap-2 grid-flow-col justify-center">
        <!-- Salary CSV upload for Afternoon Only Slate -->
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKSalaries'"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.AFTERNOON_ONLY, 'salaries')
          "
          [isButtonDisabled]="isLoading() || isSaving()"
        ></dk-shared-file-upload-button>

        <!-- Entries CSV upload for Afternoon Only Slate -->
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKEntries'"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.AFTERNOON_ONLY, 'entries')
          "
          [isButtonDisabled]="isLoading() || isSaving()"
        ></dk-shared-file-upload-button>
      </div>
    </div>

    <!-- SUN TO MON -->
    <div class="slate-card">
      <h3 class="text-lg mb-2 slate-title">Sunday To Monday</h3>
      <p class="mb-4">
        If you entered contests in the
        <span class="italic">Sun-Mon</span> slate, you can upload your CSV files
        below.
      </p>

      @if (isLoading() ) {
      <p>Loading upload statuses...</p>
      } @else {

      <ul class="list-disc mb-4 ml-4">
        <li class="py-1">
          DKSalaries:

          <span
            [class.text-green-500]="salaries()[slateEnum.SUN_TO_MON]"
            [class.text-red-500]="!salaries()[slateEnum.SUN_TO_MON]"
          >
            {{ salaries()[slateEnum.SUN_TO_MON] ? 'Uploaded' : 'Not Uploaded' }}
          </span>
        </li>
        <li class="py-1">
          DKEntries:
          <span
            [class.text-green-500]="entries()[slateEnum.SUN_TO_MON]"
            [class.text-red-500]="!entries()[slateEnum.SUN_TO_MON]"
          >
            {{ entries()[slateEnum.SUN_TO_MON] ? 'Uploaded' : 'Not Uploaded' }}
          </span>
        </li>
      </ul>
      }

      <div class="grid gap-2 grid-flow-col justify-center">
        <!-- Salary CSV upload for Sun-Mon Slate -->
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKSalaries'"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.SUN_TO_MON, 'salaries')
          "
          [isButtonDisabled]="isLoading() || isSaving()"
        ></dk-shared-file-upload-button>

        <!-- Entries CSV upload for Sun-Mon Slate -->
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKEntries'"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.SUN_TO_MON, 'entries')
          "
          [isButtonDisabled]="isLoading() || isSaving()"
        ></dk-shared-file-upload-button>
      </div>
    </div>

    <!-- THANKSGIVING -->
    <div class="slate-card">
      <h3 class="text-lg mb-2 slate-title">Thanksgiving</h3>
      <p class="mb-4">
        If you entered contests in the
        <span class="italic">Thanksgiving</span> slate, you can upload your CSV
        files below.
      </p>
      @if (isLoading() ) {
      <p>Loading upload statuses...</p>
      } @else {

      <ul class="list-disc mb-4 ml-4">
        <li class="py-1">
          DKSalaries:

          <span
            [class.text-green-500]="salaries()[slateEnum.THANKSGIVING]"
            [class.text-red-500]="!salaries()[slateEnum.THANKSGIVING]"
          >
            {{
              salaries()[slateEnum.THANKSGIVING] ? 'Uploaded' : 'Not Uploaded'
            }}
          </span>
        </li>
        <li class="py-1">
          DKEntries:
          <span
            [class.text-green-500]="entries()[slateEnum.THANKSGIVING]"
            [class.text-red-500]="!entries()[slateEnum.THANKSGIVING]"
          >
            {{
              entries()[slateEnum.THANKSGIVING] ? 'Uploaded' : 'Not Uploaded'
            }}
          </span>
        </li>
      </ul>
      }

      <div class="grid gap-2 grid-flow-col justify-center">
        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKSalaries'"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.THANKSGIVING, 'salaries')
          "
          [isButtonDisabled]="isLoading() || isSaving()"
        ></dk-shared-file-upload-button>

        <dk-shared-file-upload-button
          [buttonStyle]="'secondary'"
          [buttonText]="'Upload DKEntries'"
          (handleFileSelection)="
            onFileSelected($event, slateEnum.THANKSGIVING, 'entries')
          "
          [isButtonDisabled]="isLoading() || isSaving()"
        ></dk-shared-file-upload-button>
      </div>
    </div>
  </div>
</div>
